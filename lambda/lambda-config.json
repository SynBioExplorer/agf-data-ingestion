{
  "functions": [
    {
      "functionName": "agf-data-ingestion-dev",
      "description": "Main Lambda handler for processing run.json and experiment.json metadata from S3",
      "runtime": "python3.11",
      "handler": "index.lambda_handler",
      "memorySize": 512,
      "timeout": 300,
      "role": "agf-ingestion-lambda-role-dev",
      "environment": {
        "ENVIRONMENT": "dev",
        "FILE_INVENTORY_TABLE": "agf-file-inventory-dev",
        "EXPERIMENTS_TABLE": "agf-experiments-dev",
        "SYNC_RUNS_TABLE": "agf-sync-runs-dev"
      },
      "sourceFile": "agf_ingestion_lambda.py",
      "triggers": [
        "agf-run-json-trigger-dev",
        "agf-experiment-json-trigger-dev"
      ]
    },
    {
      "functionName": "agf-zip-generator-dev",
      "description": "Lambda function for generating on-demand zip exports of experiment data",
      "runtime": "python3.11",
      "handler": "index.lambda_handler",
      "memorySize": 1024,
      "timeout": 300,
      "role": "agf-zip-generator-role-dev",
      "environment": {
        "ENVIRONMENT": "dev",
        "S3_BUCKET": "agf-instrument-data"
      },
      "sourceFile": "agf_zip_generator_lambda.py"
    },
    {
      "functionName": "agf-reconciliation-dev",
      "description": "Weekly S3-DynamoDB reconciliation for AGF data pipeline",
      "runtime": "python3.11",
      "handler": "agf_reconciliation_lambda.lambda_handler",
      "memorySize": 512,
      "timeout": 900,
      "role": "agf-reconciliation-lambda-role-dev",
      "environment": {
        "FILE_INVENTORY_TABLE": "agf-file-inventory-dev",
        "EXPERIMENTS_TABLE": "agf-experiments-dev",
        "SYNC_RUNS_TABLE": "agf-sync-runs-dev",
        "DATA_BUCKET": "agf-instrument-data",
        "SNS_TOPIC_ARN": "arn:aws:sns:ap-southeast-2:789922127765:agf-pipeline-alerts-dev",
        "ALERT_EMAIL": "felix.meier@mq.edu.au"
      },
      "sourceFile": "agf_reconciliation_lambda.py",
      "triggers": ["agf-reconciliation-schedule-dev"]
    },
    {
      "functionName": "AGF-CognitoPostConfirmation",
      "description": "Post-confirmation trigger for Cognito user pool",
      "runtime": "nodejs22.x",
      "handler": "index.handler",
      "memorySize": 128,
      "timeout": 3,
      "role": "AGF-CognitoPostConfirmation-role-xy16gavb",
      "triggers": ["cognito:AGF-Users:PostConfirmation"]
    }
  ]
}
